function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequiredd77;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},e.parcelRequiredd77=a),a("kyEFX").register(JSON.parse('{"cm6eq":"f_coctail.a30579f7.js","7kCeP":"sprite.86d7718d.svg","ikSwh":"f_ingredients.2040d6d4.js"}'));var i=a("aEubW"),o=a("gSRkr");async function s(t,e,n){try{const{data:r}=await(0,i.getCoctById)(t),{strDrink:a,strDrinkThumb:s,idDrink:l}=r.drinks[0],u=document.querySelector(".modal__button--favorite"),f=JSON.parse(localStorage.getItem("favourites_coctails"))||[],g={strDrink:a,strDrinkThumb:s,idDrink:l};for(let t=0;t<f.length;t++)if(f[t].idDrink===l)return f.splice(t,1),localStorage.setItem("favourites_coctails",JSON.stringify(f)),void(e?(d(u),n.innerHTML=o.favCardBtnAdd):c(l));f.push(g),localStorage.setItem("favourites_coctails",JSON.stringify(f)),e?(!function(t){t.textContent="Remove from favorite"}(u),n.innerHTML=o.favCardBtnRemove):function(t){document.querySelector(`button[data-favid="${t}"]`).innerHTML=o.favCardBtnRemove}(l)}catch(t){console.log(t)}}function c(t){document.querySelector(`button[data-favid="${t}"]`).innerHTML=o.favCardBtnAdd}function d(t){t.textContent="Add to favorite"}var l;l=new URL(a("kyEFX").resolve("7kCeP"),import.meta.url).toString();var u=a("gDQKf"),f=a("lmZ5B");i=a("aEubW"),i=a("aEubW");document.querySelector(".js-main-coct");async function g(t){return console.log(),t.target.dataset.type?await b(t.target.dataset.id,t.target.nextElementSibling):t.target.dataset.add?await s(t.target.dataset.favid):void 0}var v=a("1dMoQ");let m=[],_=[],p="";async function b(e,n){try{p=n;const{data:r}=await(0,i.getCoctById)(e);return function(t=[]){for(let e=1;e<=15;e++){if(null===t[0]["strIngredient"+e])return;if(_.push(t[0]["strIngredient"+e]),null===t[0]["strMeasure"+e])return m.push(t[0]["strIngredient"+e]);m.push(t[0]["strIngredient"+e]+" "+t[0]["strMeasure"+e])}}(r.drinks),function(e,n){const r=JSON.parse(localStorage.getItem("favourites_coctails"))||[],{strDrink:a,strDrinkThumb:i,strInstructions:o,idDrink:s}=e,c=r.find((t=>t.strDrink===a))?"Remove from favorite":"Add to favorite",d=`\n<div class="backdrop">\n  <div class="modal">\n    <button type="button" aria-label="Close button" class="modal__close" >\n      <svg class="modal__icon" width="24" height="24">\n        <use href="${t(l)}#icon-close-burger"></use>\n      </svg>\n    </button>\n    <h2 class="coctail">${a}</h2>\n    <h3 class="coctail__instruction">INSTRUCTIONS:</h3>\n    <p class="coctail__description">${o}\n    </p>\n    <img class="coctail__img" src=${i} alt=${a} />\n    <h4 class="ingredients">INGREDIENTS</h4>\n    <p class="ingredients__denominator">Per coctail</p>\n    <ul class="ingredients__list">\n       ${n.map(((t,e)=>`<li class="ingredients__items" data-name="${_[e]}">âœ¶ ${t}</li>`)).join("")}\n    </ul>\n    <button\n      type="button"\n      class="button modal__button--favorite"\n      aria-label="${c}"\n      data-add="add" data-favid=${s}\n    >\n      ${c}\n    </button>\n  </div>\n</div>`;document.body.insertAdjacentHTML("beforeend",d),document.querySelector(".modal__close").addEventListener("click",h),document.querySelector(".modal").addEventListener("click",k),document.querySelector(".ingredients__list").addEventListener("click",v.onClickIngr)}(...r.drinks,m),r}catch(t){console.log(t)}}function h(t){document.querySelector(".modal__close").removeEventListener("click",h),document.querySelector(".modal").removeEventListener("click",g),document.querySelector(".backdrop").remove(),m=[],_=[]}async function k(t){if(t.target.dataset.add)return await s(t.target.dataset.favid,"modal",p)}o=a("gSRkr");var S=a("5zOW8");const y=JSON.parse(localStorage.getItem("favourites_coctails"))||[];function L(e=[]){const n=e.map((({strDrink:e,strDrinkThumb:n,idDrink:r})=>`<li class="coctail-card">\n      <img class="img" src=${n} alt=${e}/img>\n      <h3 class="coctail-card__name">${e}</h3>\n      <div class="coctail-card__options">\n        <button class="button-learn_more" data-id=${r} data-type="learn">Learn more</button>\n        <button class="button-add_to" data-favid=${r} data-add="add">\n          Remove\n          <svg class="heart-icon" width="18" height="18">\n            <use href="${t(l)}#icon-heart_full"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`)).join("");S.refCocktList.innerHTML=n}function C(){S.refCocktList.innerHTML=o.errorListFavCocktail}function D(){if(!(JSON.parse(localStorage.getItem("favourites_coctails"))||[]).length)return C()}S.refFormSearch.addEventListener("submit",(function(t){t.preventDefault();const e=t.currentTarget.finder.value.trim();if(!e)return;console.log(y);const n=y.filter((t=>t.strDrink.toLowerCase().includes(e.toLowerCase())));if(!n.length)return S.refCocktList.innerHTML=u.notFound;L(n)})),S.refCocktList.addEventListener("click",(async function(t){if("BUTTON"!==t.target.tagName)return;if(t.target.dataset.favid)return function(t){const e=JSON.parse(localStorage.getItem("favourites_coctails"))||[];for(let n=0;n<e.length;n++)if(e[n].idDrink===t)return e.splice(n,1),localStorage.setItem("favourites_coctails",JSON.stringify(e)),void D()}(t.target.dataset.favid),void t.target.parentNode.parentNode.remove();t.target.dataset.type&&await b(t.target.dataset.id)})),(0,f.themeSwitcher)(),y.length?L(y):C();
//# sourceMappingURL=f_coctail.a30579f7.js.map
