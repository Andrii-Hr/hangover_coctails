{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-b4fb558e15c8c075.js","src/js/components/favourites/index.js","node_modules/@parcel/runtime-js/lib/runtime-be859e9f208c57ea.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dlfMs\\\":\\\"f_coctail.d00886d0.js\\\",\\\"JQ8i3\\\":\\\"sprite.86d7718d.svg\\\",\\\"jdaXP\\\":\\\"f_coctail.12a18de1.js\\\",\\\"2i1er\\\":\\\"f_coctail.883aebda.js\\\"}\"));","import { FAV_COCKTAIL } from './fav_cocktails';\nimport sprite from '../../../images/svg/sprite.svg';\nimport { onClickIngr } from '../modal/modalIngr';\n// import { renderMarkup, collectIngr } from '../modal/index';\n\nconst refCocktList = document.querySelector('.js-add_f-coctail');\nconst actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\nrefCocktList.addEventListener('click', deleteCard);\n\n///\nlet ingredientsList = [];\nlet ingredientsNameList = [];\nasync function searchCoctById(id) {\n  try {\n    const { data } = await getCoctById(id);\n    collectIngredients(data.drinks);\n    renderMarkupModal(...data.drinks, ingredientsList);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction collectIngredients(newArr = []) {\n  for (let i = 1; i <= 15; i++) {\n    if (newArr[0][`strIngredient` + i] === null) return;\n    ingredientsNameList.push(newArr[0][`strIngredient` + i]);\n\n    if (newArr[0]['strMeasure' + i] === null) {\n      return ingredientsList.push(newArr[0][`strIngredient` + i]);\n    }\n\n    ingredientsList.push(\n      newArr[0][`strIngredient` + i] + ' ' + newArr[0][`strMeasure` + i]\n    );\n  }\n}\n\nfunction renderMarkupModal(data, ingredients) {\n  const actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\n  const { strDrink, strDrinkThumb, strInstructions, idDrink } = data;\n  const isFav = actArr.find(item => item.strDrink === strDrink);\n  const btn = isFav ? 'Remove from favorite' : 'Add to favorite';\n  const markup = `\n<div class=\"backdrop\">\n  <div class=\"modal\">\n    <button type=\"button\" aria-label=\"Close button\" class=\"modal__close\" >\n      <svg class=\"modal__icon\" width=\"24\" height=\"24\">\n        <use href=\"${sprite}#icon-close-burger\"></use>\n      </svg>\n    </button>\n    <h2 class=\"coctail\">${strDrink}</h2>\n    <h3 class=\"coctail__instruction\">INSTRUCTIONS:</h3>\n    <p class=\"coctail__description\">${strInstructions}\n    </p>\n    <img class=\"coctail__img\" src=${strDrinkThumb} alt=${strDrink} />\n    <h4 class=\"ingredients\">INGREDIENTS</h4>\n    <p class=\"ingredients__denominator\">Per coctail</p>\n    <ul class=\"ingredients__list\">\n       ${ingredients\n         .map(\n           (ingr, ind) =>\n             `<li class=\"ingredients__items\" data-name=\"${ingredientsNameList[ind]}\">âœ¶ ${ingr}</li>`\n         )\n         .join('')}\n    </ul>\n    <button\n      type=\"button\"\n      class=\"button modal__button--favorite\"\n      aria-label=\"${btn}\"\n      data-add=\"add\" data-favid=${idDrink}\n    >\n      ${btn}\n    </button>\n  </div>\n</div>`;\n  document.body.insertAdjacentHTML('beforeend', markup);\n  // document.querySelector('.modal__close').addEventListener('click', closeModal);\n  // document.querySelector('.modal').addEventListener('click', modalBtnListener);\n  // document\n  //   .querySelector('.ingredients__list')\n  //   .addEventListener('click', onClickIngr);\n}\n\n// export function closeModal(e) {\n//   document\n//     .querySelector('.modal__close')\n//     .removeEventListener('click', closeModal);\n//   // document.querySelector('.modal').removeEventListener('click', cardBtnListenr);\n//   document.querySelector('.backdrop').remove();\n//   ingrList = [];\n//   ingrNameList = [];\n// }\n\n// export function modalBtnListener(e) {\n//   if (e.target.dataset.add) return btnAddFav(e.target.dataset.favid, 'modal');\n// }\n\n///\n\nif (actArr.length) {\n  renderMarkupList(actArr);\n} else {\n  renderErrorMarkup();\n}\n\nfunction deleteCard(e) {\n  if (e.target.tagName !== 'BUTTON') return;\n  if (e.target.dataset.favid) {\n    deleteFavFromLS(e.target.dataset.favid);\n    e.target.parentNode.parentNode.remove();\n    return;\n  }\n  if (e.target.dataset.type) return searchCoctById(e.target.dataset.id);\n}\n\nfunction renderMarkupList(data = []) {\n  const mark = data\n    .map(({ strDrink, strDrinkThumb, idDrink }) => {\n      return `<li class=\"coctail-card\">\n      <img class=\"img\" src=${strDrinkThumb} alt=${strDrink}/img>\n      <h3 class=\"coctail-card__name\">${strDrink}</h3>\n      <div class=\"coctail-card__options\">\n        <button class=\"button-learn_more\" data-id=${idDrink} data-type=\"learn\">Learn more</button>\n        <button class=\"button-add_to\" data-favid=${idDrink} data-add=\"add\">\n          Remove\n          <svg class=\"heart-icon\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#icon-heart_full\"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`;\n    })\n    .join('');\n  refCocktList.innerHTML = mark;\n}\n\nfunction renderErrorMarkup() {\n  const mark = `<li class=\"f-coctails__item\">\n              You haven't added any favorite cocktails yet\n            </li>`;\n  refCocktList.innerHTML = mark;\n}\n\nfunction deleteFavFromLS(id) {\n  const actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\n  for (let i = 0; i < actArr.length; i++) {\n    if (actArr[i].idDrink === id) {\n      actArr.splice(i, 1);\n      localStorage.setItem(FAV_COCKTAIL, JSON.stringify(actArr));\n      return;\n    }\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('dlfMs') + require('./helpers/bundle-manifest').resolve(\"JQ8i3\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$47436f9986320f42$exports","getBundleURL","resolve","$9be2d73992d10eee$var$refCocktList","document","querySelector","$9be2d73992d10eee$var$actArr","localStorage","getItem","$gyjzY","FAV_COCKTAIL","addEventListener","e","target","tagName","dataset","favid","id","actArr2","i","length","idDrink","splice","setItem","stringify","$9be2d73992d10eee$var$deleteFavFromLS","parentNode","remove","type","$9be2d73992d10eee$var$_searchCoctById","apply","this","arguments","$9be2d73992d10eee$var$searchCoctById","$9be2d73992d10eee$var$ingredientsList","$9be2d73992d10eee$var$ingredientsNameList","$parcel$interopDefault","$2TvXO","mark","_callee","data","getCoctById","$9be2d73992d10eee$var$collectIngredients","_ctx","sent","drinks","$9be2d73992d10eee$var$renderMarkupModal","$8nrFW","concat","console","log","t0","newArr","push","ingredients","actArr1","strDrink","strDrinkThumb","strInstructions","btn","find","item","markup","map","ingr","ind","join","body","insertAdjacentHTML","param","innerHTML","$9be2d73992d10eee$var$renderMarkupList"],"version":3,"file":"f_coctail.d00886d0.js.map"}