function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequiredd77;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){a[t]=e},e.parcelRequiredd77=r),r("kyEFX").register(JSON.parse('{"cm6eq":"f_coctail.cea784cd.js","7kCeP":"sprite.3f5ac9d6.svg","h8HE3":"f_ingredients.60ddb6e0.js"}'));var i,o=r("alV1T"),s=r("aEubW");i=new URL(r("kyEFX").resolve("7kCeP"),import.meta.url).toString();var c=r("5zOW8"),d=r("gSRkr");async function l(e,n,a){try{const{data:r}=await(0,s.getCoctById)(e),{strDrink:o,strDrinkThumb:l,idDrink:m}=r.drinks[0],v=document.querySelector(".modal__button--favorite"),_=JSON.parse(localStorage.getItem("favourites_coctails"))||[],h={strDrink:o,strDrinkThumb:l,idDrink:m};for(let t=0;t<_.length;t++)if(_[t].idDrink===m)return _.splice(t,1),localStorage.setItem("favourites_coctails",JSON.stringify(_)),void(n?(f(v),g(m),a.innerHTML=d.favCardBtnAdd):u(m));_.push(h),localStorage.setItem("favourites_coctails",JSON.stringify(_)),n?(!function(t){t.textContent="Remove from favorite"}(v),function(e){if(!!document.querySelector(".f-coctails")){const{strDrink:n,strDrinkThumb:a,idDrink:r}=e,o=`<li class="coctail-card">\n      <img class="img" src=${a} alt=${n}/img>\n      <h3 class="coctail-card__name">${n}</h3>\n      <div class="coctail-card__options">\n        <button class="button-learn_more" data-id=${r} data-type="learn">Learn more</button>\n        <button class="button-add_to" data-favid=${r} data-add="add">\n          Remove\n          <svg class="heart-icon" width="18" height="18">\n            <use href="${t(i)}#icon-heart_full"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`;c.refCocktList.insertAdjacentHTML("beforeend",o)}}(h),a.innerHTML=d.favCardBtnRemove):function(t){document.querySelector(`button[data-favid="${t}"]`).innerHTML=d.favCardBtnRemove}(m)}catch(t){console.log(t)}}function u(t){document.querySelector(`button[data-favid="${t}"]`).innerHTML=d.favCardBtnAdd}function f(t){t.textContent="Add to favorite"}function g(t){!!document.querySelector(".f-coctails")&&document.querySelector(`button[data-favid="${t}"]`).parentElement.parentElement.remove()}var m=r("gDQKf"),v=r("lmZ5B");s=r("aEubW"),s=r("aEubW");document.querySelector(".js-main-coct");async function _(t){return t.target.dataset.type?await k(t.target.dataset.id,t.target.nextElementSibling):t.target.dataset.add?await l(t.target.dataset.favid):void 0}var h=r("1dMoQ");let b=[],p=[],S="";async function k(e,n){try{S=n;const{data:a}=await(0,s.getCoctById)(e);return function(t=[]){for(let e=1;e<=15;e++){if(null===t[0]["strIngredient"+e])return;if(p.push(t[0]["strIngredient"+e]),null===t[0]["strMeasure"+e])return b.push(t[0]["strIngredient"+e]);b.push(t[0]["strIngredient"+e]+" "+t[0]["strMeasure"+e])}}(a.drinks),function(e,n){const a=JSON.parse(localStorage.getItem("favourites_coctails"))||[],{strDrink:r,strDrinkThumb:o,strInstructions:s,idDrink:c}=e,d=a.find((t=>t.strDrink===r))?"Remove from favorite":"Add to favorite",l=`\n<div class="backdrop is__hidden">\n  <div class="modal">\n    <button type="button" aria-label="Close button" class="modal__close" >\n      <svg class="modal__icon" width="24" height="24">\n        <use href="${t(i)}#icon-close-burger"></use>\n      </svg>\n    </button>\n    <h2 class="coctail">${r}</h2>\n    <h3 class="coctail__instruction">INSTRUCTIONS:</h3>\n    <p class="coctail__description">${s}\n    </p>\n    <img class="coctail__img" src=${o} alt=${r} />\n    <h4 class="ingredients">INGREDIENTS</h4>\n    <p class="ingredients__denominator">Per coctail</p>\n    <ul class="ingredients__list">\n       ${n.map(((t,e)=>`<li class="ingredients__items" data-name="${p[e]}">âœ¶ ${t}</li>`)).join("")}\n    </ul>\n    <button\n      type="button"\n      class="button modal__button--favorite"\n      aria-label="${d}"\n      data-add="add" data-favid=${c}\n    >\n      ${d}\n    </button>\n  </div>\n</div>`;document.body.insertAdjacentHTML("beforeend",l),document.querySelector(".modal__close").addEventListener("click",y),document.querySelector(".modal").addEventListener("click",$),document.querySelector(".ingredients__list").addEventListener("click",h.onClickIngr)}(...a.drinks,b),setTimeout(L,30),a}catch(t){console.log(t)}}function y(){L(),document.querySelector(".modal__close").removeEventListener("click",y),document.querySelector(".modal").removeEventListener("click",_),setTimeout(T,400),b=[],p=[]}function L(){document.body.classList.toggle("scroll_off"),document.querySelector(".backdrop").classList.toggle("is__hidden")}function T(){document.querySelector(".backdrop").remove()}async function $(t){if(t.target.dataset.add)return await l(t.target.dataset.favid,"modal",S)}d=r("gSRkr");var D=r("goUyQ");c=r("5zOW8");const E=JSON.parse(localStorage.getItem("favourites_coctails"))||[];function C(e=[]){const n=e.map((({strDrink:e,strDrinkThumb:n,idDrink:a})=>`<li class="coctail-card">\n      <img class="img" src=${n} alt=${e}/img>\n      <h3 class="coctail-card__name">${e}</h3>\n      <div class="coctail-card__options">\n        <button class="button-learn_more" data-id=${a} data-type="learn">Learn more</button>\n        <button class="button-add_to" data-favid=${a} data-add="add">\n          Remove\n          <svg class="heart-icon" width="18" height="18">\n            <use href="${t(i)}#icon-heart_full"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`)).join("");c.refCocktList.innerHTML=n}function I(){c.refCocktList.innerHTML=d.errorListFavCocktail}function w(){if(!(JSON.parse(localStorage.getItem("favourites_coctails"))||[]).length)return I()}c.refFormSearch.addEventListener("submit",(function(t){t.preventDefault();const e=t.currentTarget.finder.value.trim();if(!e)return;const n=E.filter((t=>t.strDrink.toLowerCase().includes(e.toLowerCase())));if(c.refFormSearch.reset(),!n.length)return c.refCocktList.innerHTML=m.notFound;C(n)})),c.refCocktList.addEventListener("click",(async function(t){if("BUTTON"!==t.target.tagName)return;if(t.target.dataset.favid)return function(t){const e=JSON.parse(localStorage.getItem("favourites_coctails"))||[];for(let n=0;n<e.length;n++)if(e[n].idDrink===t)return e.splice(n,1),localStorage.setItem("favourites_coctails",JSON.stringify(e)),void w()}(t.target.dataset.favid),t.target.parentNode.parentNode.remove(),newArr=JSON.parse(localStorage.getItem("favourites_coctails"))||[],void(0,D.initPagination)(newArr,C);t.target.dataset.type&&await k(t.target.dataset.id,t.target.nextElementSibling)})),(0,o.headerInit)(),(0,v.themeSwitcher)(),E.length?(0,D.initPagination)(E,C):I();
//# sourceMappingURL=f_coctail.cea784cd.js.map
