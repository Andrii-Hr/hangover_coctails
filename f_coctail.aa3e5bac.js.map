{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,wMCAzD,I,EAAAC,EAAAJ,EAAA,S,uCCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,iBDIhHC,EAAeC,SAASC,cAAc,qBACtCC,EAAST,KAAKC,MAAMS,aAAaC,QAAQC,EAAAC,gBAAkB,GACjEP,EAAaQ,iBAAiB,SAQ9B,SAAoBC,GAClB,GAAyB,WAArBA,EAAEC,OAAOC,QAAsB,OACnC,GAAIF,EAAEC,OAAOE,QAAQC,MAGnB,OA+CJ,SAAyBC,GAEvB,IADA,IAAMC,EAASrB,KAAKC,MAAMS,aAAaC,QAAQC,EAAAC,gBAAkB,GACxDS,EAAI,EAAGA,EAAID,EAAOE,OAAQD,IACjC,GAAID,EAAOC,GAAGE,UAAYJ,EAGxB,OAFAC,EAAOI,OAAOH,EAAG,QACjBZ,aAAagB,QAAQd,EAAAC,aAAcb,KAAK2B,UAAUN,G,CAtDpDO,CAAgBb,EAAEC,OAAOE,QAAQC,YACjCJ,EAAEC,OAAOa,WAAWA,WAAWC,SAGjC,GAAIf,EAAEC,OAAOE,QAAQa,KAAM,O,SAKCX,G,OAAfY,EAAcC,MAAAC,KAAAC,U,CALOC,CAAerB,EAAEC,OAAOE,QAAQE,G,IAbhEX,EAAOc,OA8BX,W,IAA0Bc,EAAAF,UAAAZ,OAAA,YAAAY,UAAA,GAASA,UAAA,GAAF,GACzBG,EAAOD,EACVE,KAAI,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAaF,EAAbE,cAAelB,EAAOgB,EAAPhB,QAC/B,MAAO,yDACqCmB,OAArBD,EAAc,SACJC,OADWF,EAAS,gDAGPE,OAFbF,EAAS,wGAGGE,OADCnB,EAAQ,6FAInCmB,OAH0BnB,EAAQ,0HAG3BmB,OAAPC,EAAAzC,GAAO,yF,IAM3B0C,KAAK,IACRvC,EAAawC,UAAYR,C,CA/CzBS,CAAiBtC,GAsDjBH,EAAawC,UAHC,gHAnChB,IAAIE,EAAW,G,SACAhB,I,OAAAA,EAAfY,EAAA1C,EAAA,CAAA0C,EAAAK,GAAAX,MAAA,SAAAY,EAA8B9B,G,IAElBiB,E,2FAAec,YAAY/B,G,cAA7BiB,EAAMe,EAAAC,KAAJhB,MACR,EAAAiB,EAAAC,aAAYlB,EAAKmB,QACjBF,EAAAG,aAAAxB,WAAA,EAAaW,EAAAc,EAAb,CAAgBrB,EAAKmB,QAALb,OAAhB,CAA6BK,K,kBACtBX,G,gCAEPsB,QAAQC,IAAGR,EAAAS,I,0DAPc5B,MAAAC,KAAAC,U","sources":["node_modules/@parcel/runtime-js/lib/runtime-b4fb558e15c8c075.js","src/js/components/favourites/index.js","node_modules/@parcel/runtime-js/lib/runtime-be859e9f208c57ea.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dlfMs\\\":\\\"f_coctail.aa3e5bac.js\\\",\\\"JQ8i3\\\":\\\"sprite.86d7718d.svg\\\",\\\"jdaXP\\\":\\\"f_coctail.9aaa64b3.js\\\",\\\"2i1er\\\":\\\"f_coctail.ff987a42.js\\\"}\"));","import { FAV_COCKTAIL } from './fav_cocktails';\nimport sprite from '../../../images/svg/sprite.svg';\nimport { renderMarkup, collectIngr } from '../modal/index';\n\nconst refCocktList = document.querySelector('.js-add_f-coctail');\nconst actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\nrefCocktList.addEventListener('click', deleteCard);\n\nif (actArr.length) {\n  renderMarkupList(actArr);\n} else {\n  renderErrorMarkup();\n}\n\nfunction deleteCard(e) {\n  if (e.target.tagName !== 'BUTTON') return;\n  if (e.target.dataset.favid) {\n    deleteFavFromLS(e.target.dataset.favid);\n    e.target.parentNode.parentNode.remove();\n    return;\n  }\n  if (e.target.dataset.type) return searchCoctById(e.target.dataset.id);\n}\n\n///\nlet ingrList = [];\nasync function searchCoctById(id) {\n  try {\n    const { data } = await getCoctById(id);\n    collectIngr(data.drinks);\n    renderMarkup(...data.drinks, ingrList);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n///\n\nfunction renderMarkupList(data = []) {\n  const mark = data\n    .map(({ strDrink, strDrinkThumb, idDrink }) => {\n      return `<li class=\"coctail-card\">\n      <img class=\"img\" src=${strDrinkThumb} alt=${strDrink}/img>\n      <h3 class=\"coctail-card__name\">${strDrink}</h3>\n      <div class=\"coctail-card__options\">\n        <button class=\"button-learn_more\" data-id=${idDrink} data-type=\"learn\">Learn more</button>\n        <button class=\"button-add_to\" data-favid=${idDrink} data-add=\"add\">\n          Remove\n          <svg class=\"heart-icon\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#icon-heart_full\"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`;\n    })\n    .join('');\n  refCocktList.innerHTML = mark;\n}\n\nfunction renderErrorMarkup() {\n  const mark = `<li class=\"f-coctails__item\">\n              You haven't added any favorite cocktails yet\n            </li>`;\n  refCocktList.innerHTML = mark;\n}\n\nfunction deleteFavFromLS(id) {\n  const actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\n  for (let i = 0; i < actArr.length; i++) {\n    if (actArr[i].idDrink === id) {\n      actArr.splice(i, 1);\n      localStorage.setItem(FAV_COCKTAIL, JSON.stringify(actArr));\n      return;\n    }\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('dlfMs') + require('./helpers/bundle-manifest').resolve(\"JQ8i3\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$47436f9986320f42$exports","getBundleURL","resolve","$9be2d73992d10eee$var$refCocktList","document","querySelector","$9be2d73992d10eee$var$actArr","localStorage","getItem","$gyjzY","FAV_COCKTAIL","addEventListener","e","target","tagName","dataset","favid","id","actArr1","i","length","idDrink","splice","setItem","stringify","$9be2d73992d10eee$var$deleteFavFromLS","parentNode","remove","type","$9be2d73992d10eee$var$_searchCoctById","apply","this","arguments","$9be2d73992d10eee$var$searchCoctById","data","mark","map","param","strDrink","strDrinkThumb","concat","$parcel$interopDefault","join","innerHTML","$9be2d73992d10eee$var$renderMarkupList","$9be2d73992d10eee$var$ingrList","$2TvXO","_callee","getCoctById","_ctx","sent","$i3SOf","collectIngr","drinks","renderMarkup","$8nrFW","console","log","t0"],"version":3,"file":"f_coctail.aa3e5bac.js.map"}