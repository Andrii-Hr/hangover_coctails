{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,wMCAzD,I,EAAAC,EAAAJ,EAAA,S,0BCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,2CDMhHC,EAAeC,SAASC,cAAc,qBACtCC,EAAST,KAAKC,MAAMS,aAAaC,QAAQC,EAAAC,gBAAkB,GACjDN,SAASC,cAAc,kBAC/BM,iBAAiB,UAmEzB,SAAqBC,GACnBA,EAAEC,iBACF,IAAMC,EAAUF,EAAEG,cAAcC,OAAOC,MAAMC,OAC7C,IAAKJ,EAAS,OACdK,QAAQC,IAAId,GACZ,IAAMe,EAASf,EAAOgB,QAAO,SAAAC,G,OAC3BA,EAAGC,SAASC,cAAcC,SAASZ,EAAQW,c,IAG7C,IAAKJ,EAAOM,OAAQ,OAAQxB,EAAayB,UAAYC,EAAAC,SACrDC,EAAiBV,E,IA5EnBlB,EAAaQ,iBAAiB,S,SAiBJC,G,OAAXoB,EAAUC,MAAAC,KAAAC,U,IAfrB7B,EAAOqB,OACTI,EAAiBzB,GAiDjBH,EAAayB,UAHC,gHAzChB,IAAIQ,EAAchC,SAASiC,eAAe,e,SAS3BL,I,OAAAA,EAAfM,EAAAvC,EAAA,CAAAuC,EAAAC,GAAAC,MAAA,SAAAC,EAA0B7B,G,qEACC,WAArBA,EAAE8B,OAAOC,QAAoB,C,oDAC7B/B,EAAE8B,OAAOE,QAAQC,MAAK,C,sBACxBC,EAAgBlC,EAAE8B,OAAOE,QAAQC,OACjCjC,EAAE8B,OAAOK,WAAWA,WAAWC,S,8BAG7BpC,EAAE8B,OAAOE,QAAQK,KAAI,C,gCAAQ,EAAAC,EAAAC,gBAAevC,EAAE8B,OAAOE,QAAQQ,I,4CAP1CnB,MAAAC,KAAAC,U,CAUzB,SAASJ,I,IAAiBsB,EAAAlB,UAAAR,OAAA,YAAAQ,UAAA,GAASA,UAAA,GAAF,GACzBK,EAAOa,EACVC,KAAI,SAAAC,G,IAAG/B,EAAQ+B,EAAR/B,SAAUgC,EAAaD,EAAbC,cAAeC,EAAOF,EAAPE,QAC/B,MAAO,yDACqCC,OAArBF,EAAc,SACJE,OADWlC,EAAS,gDAGPkC,OAFblC,EAAS,wGAGGkC,OADCD,EAAQ,6FAInCC,OAH0BD,EAAQ,0HAG3BC,OAAPpB,EAAAtC,GAAO,yF,IAM3B2D,KAAK,IACRxD,EAAayB,UAAYY,C,CAU3B,SAASM,EAAgBM,GAEvB,IADA,IAAMQ,EAAS/D,KAAKC,MAAMS,aAAaC,QAAQC,EAAAC,gBAAkB,GACxDmD,EAAI,EAAGA,EAAID,EAAOjC,OAAQkC,IACjC,GAAID,EAAOC,GAAGJ,UAAYL,EAGxB,OAFAQ,EAAOE,OAAOD,EAAG,QACjBtD,aAAawD,QAAQtD,EAAAC,aAAcb,KAAKmE,UAAUJ,G,CAnDpDxB,KACF,EAAA6B,EAAAC,aAEA9B,EAAYzB,iBAAiB,UAAU,SAAUwD,IAC/C,EAAAF,EAAAG,a","sources":["node_modules/@parcel/runtime-js/lib/runtime-b4fb558e15c8c075.js","src/js/components/favourites/index.js","node_modules/@parcel/runtime-js/lib/runtime-be859e9f208c57ea.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dlfMs\\\":\\\"f_coctail.caf0b24a.js\\\",\\\"JQ8i3\\\":\\\"sprite.86d7718d.svg\\\",\\\"jdaXP\\\":\\\"f_coctail.0ac5aa30.js\\\",\\\"2i1er\\\":\\\"f_coctail.deb9b502.js\\\"}\"));","import { FAV_COCKTAIL } from './fav_cocktails';\nimport sprite from '../../../images/svg/sprite.svg';\nimport { notFound } from '../error';\nimport { initTheme, resetTheme } from '../switcher/switcher';\nimport { searchCoctById } from '../modal';\n\nconst refCocktList = document.querySelector('.js-add_f-coctail');\nconst actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\nconst refForm = document.querySelector('.header__input');\nrefForm.addEventListener('submit', searchCockt);\nrefCocktList.addEventListener('click', deleteCard);\n\nif (actArr.length) {\n  renderMarkupList(actArr);\n} else {\n  renderErrorMarkup();\n}\n\nlet themeSwitch = document.getElementById('themeSwitch');\nif (themeSwitch) {\n  initTheme();\n\n  themeSwitch.addEventListener('change', function (event) {\n    resetTheme();\n  });\n}\n\nasync function deleteCard(e) {\n  if (e.target.tagName !== 'BUTTON') return;\n  if (e.target.dataset.favid) {\n    deleteFavFromLS(e.target.dataset.favid);\n    e.target.parentNode.parentNode.remove();\n    return;\n  }\n  if (e.target.dataset.type) await searchCoctById(e.target.dataset.id);\n}\n\nfunction renderMarkupList(data = []) {\n  const mark = data\n    .map(({ strDrink, strDrinkThumb, idDrink }) => {\n      return `<li class=\"coctail-card\">\n      <img class=\"img\" src=${strDrinkThumb} alt=${strDrink}/img>\n      <h3 class=\"coctail-card__name\">${strDrink}</h3>\n      <div class=\"coctail-card__options\">\n        <button class=\"button-learn_more\" data-id=${idDrink} data-type=\"learn\">Learn more</button>\n        <button class=\"button-add_to\" data-favid=${idDrink} data-add=\"add\">\n          Remove\n          <svg class=\"heart-icon\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#icon-heart_full\"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`;\n    })\n    .join('');\n  refCocktList.innerHTML = mark;\n}\n\nfunction renderErrorMarkup() {\n  const mark = `<li class=\"f-coctails__item\">\n              You haven't added any favorite cocktails yet\n            </li>`;\n  refCocktList.innerHTML = mark;\n}\n\nfunction deleteFavFromLS(id) {\n  const actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\n  for (let i = 0; i < actArr.length; i++) {\n    if (actArr[i].idDrink === id) {\n      actArr.splice(i, 1);\n      localStorage.setItem(FAV_COCKTAIL, JSON.stringify(actArr));\n      return;\n    }\n  }\n}\n\nfunction searchCockt(e) {\n  e.preventDefault();\n  const searchQ = e.currentTarget.finder.value.trim();\n  if (!searchQ) return;\n  console.log(actArr);\n  const result = actArr.filter(el =>\n    el.strDrink.toLowerCase().includes(searchQ.toLowerCase())\n  );\n\n  if (!result.length) return (refCocktList.innerHTML = notFound);\n  renderMarkupList(result);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('dlfMs') + require('./helpers/bundle-manifest').resolve(\"JQ8i3\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$47436f9986320f42$exports","getBundleURL","resolve","$9be2d73992d10eee$var$refCocktList","document","querySelector","$9be2d73992d10eee$var$actArr","localStorage","getItem","$gyjzY","FAV_COCKTAIL","addEventListener","e","preventDefault","searchQ","currentTarget","finder","value","trim","console","log","result","filter","el","strDrink","toLowerCase","includes","length","innerHTML","$g4tMw","notFound","$9be2d73992d10eee$var$renderMarkupList","$9be2d73992d10eee$var$_deleteCard","apply","this","arguments","$9be2d73992d10eee$var$themeSwitch","getElementById","$parcel$interopDefault","$2TvXO","mark","_callee","target","tagName","dataset","favid","$9be2d73992d10eee$var$deleteFavFromLS","parentNode","remove","type","$i3SOf","searchCoctById","id","data","map","param","strDrinkThumb","idDrink","concat","join","actArr1","i","splice","setItem","stringify","$fmC3e","initTheme","event","resetTheme"],"version":3,"file":"f_coctail.caf0b24a.js.map"}