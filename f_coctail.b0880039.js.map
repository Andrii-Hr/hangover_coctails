{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,wMCAzD,I,EAAAC,EAAAJ,EAAA,SCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,8BDK5F,MAAMC,EAAeC,SAASC,cAAc,qBACtCC,EAASb,KAAKC,MAAMa,aAAaC,QAAQb,EAAAc,gBAAkB,GAqBjE,SAASC,EAAiBC,EAAO,IAC/B,MAAMC,EAAOD,EACVE,KAAI,EAACC,SAAEA,EAAQC,cAAEA,EAAaC,QAAEA,KACxB,yDACgBD,SAAqBD,gDACXA,wGAEaE,6FACDA,0HAG1BC,EAAArB,6FAMpBsB,KAAK,IACRf,EAAagB,UAAYP,C,CAtCXR,SAASC,cAAc,kBAC/Be,iBAAiB,UA0DzB,SAAqBC,GACnBA,EAAEC,iBACF,MAAMC,EAAUF,EAAEG,cAAcC,OAAOC,MAAMC,OAC7C,IAAKJ,EAAS,OACdK,QAAQC,IAAIvB,GACZ,MAAMwB,EAASxB,EAAOyB,QAAOC,GAC3BA,EAAGlB,SAASmB,cAAcC,SAASX,EAAQU,iBAG7C,IAAKH,EAAOK,OAAQ,OAAQhC,EAAagB,UAAYiB,EAAAC,SACrD3B,EAAiBoB,E,IAnEnB3B,EAAaiB,iBAAiB,SAQ9BkB,eAA0BjB,GACxB,GAAyB,WAArBA,EAAEkB,OAAOC,QAAsB,OACnC,GAAInB,EAAEkB,OAAOE,QAAQC,MAGnB,OAiCJ,SAAyBC,GACvB,MAAMC,EAASnD,KAAKC,MAAMa,aAAaC,QAAQb,EAAAc,gBAAkB,GACjE,IAAK,IAAIoC,EAAI,EAAGA,EAAID,EAAOT,OAAQU,IACjC,GAAID,EAAOC,GAAG7B,UAAY2B,EAGxB,OAFAC,EAAOE,OAAOD,EAAG,QACjBtC,aAAawC,QAAQpD,EAAAc,aAAchB,KAAKuD,UAAUJ,G,CAxCpDK,CAAgB5B,EAAEkB,OAAOE,QAAQC,YACjCrB,EAAEkB,OAAOW,WAAWA,WAAWC,SAG7B9B,EAAEkB,OAAOE,QAAQW,YAAYC,EAAAC,eAAqBjC,EAAEkB,OAAOE,QAAQE,G,IAbrErC,EAAO6B,OACTzB,EAAiBJ,GAwCjBH,EAAagB,UAHA","sources":["node_modules/@parcel/runtime-js/lib/runtime-ca4f2c405daec4a3.js","src/js/components/favourites/index.js","node_modules/@parcel/runtime-js/lib/runtime-2b8e1dd7d7a9f09e.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"cm6eq\\\":\\\"f_coctail.b0880039.js\\\",\\\"7kCeP\\\":\\\"sprite.86d7718d.svg\\\",\\\"jBXHn\\\":\\\"f_coctail.9f2cb698.js\\\",\\\"1Mf1J\\\":\\\"f_coctail.724f1a46.js\\\"}\"));","import { FAV_COCKTAIL } from './fav_cocktails';\nimport sprite from '../../../images/svg/sprite.svg';\nimport { notFound } from '../error';\nimport * as modal from '../modal/';\n\nconst refCocktList = document.querySelector('.js-add_f-coctail');\nconst actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\nconst refForm = document.querySelector('.header__input');\nrefForm.addEventListener('submit', searchCockt);\nrefCocktList.addEventListener('click', deleteCard);\n\nif (actArr.length) {\n  renderMarkupList(actArr);\n} else {\n  renderErrorMarkup();\n}\n\nasync function deleteCard(e) {\n  if (e.target.tagName !== 'BUTTON') return;\n  if (e.target.dataset.favid) {\n    deleteFavFromLS(e.target.dataset.favid);\n    e.target.parentNode.parentNode.remove();\n    return;\n  }\n  if (e.target.dataset.type) await modal.searchCoctById(e.target.dataset.id);\n}\n\nfunction renderMarkupList(data = []) {\n  const mark = data\n    .map(({ strDrink, strDrinkThumb, idDrink }) => {\n      return `<li class=\"coctail-card\">\n      <img class=\"img\" src=${strDrinkThumb} alt=${strDrink}/img>\n      <h3 class=\"coctail-card__name\">${strDrink}</h3>\n      <div class=\"coctail-card__options\">\n        <button class=\"button-learn_more\" data-id=${idDrink} data-type=\"learn\">Learn more</button>\n        <button class=\"button-add_to\" data-favid=${idDrink} data-add=\"add\">\n          Remove\n          <svg class=\"heart-icon\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#icon-heart_full\"></use>\n          </svg>\n        </button>\n      </div>\n    </li>`;\n    })\n    .join('');\n  refCocktList.innerHTML = mark;\n}\n\nfunction renderErrorMarkup() {\n  const mark = `<li class=\"f-coctails__item\">\n              You haven't added any favorite cocktails yet\n            </li>`;\n  refCocktList.innerHTML = mark;\n}\n\nfunction deleteFavFromLS(id) {\n  const actArr = JSON.parse(localStorage.getItem(FAV_COCKTAIL)) || [];\n  for (let i = 0; i < actArr.length; i++) {\n    if (actArr[i].idDrink === id) {\n      actArr.splice(i, 1);\n      localStorage.setItem(FAV_COCKTAIL, JSON.stringify(actArr));\n      return;\n    }\n  }\n}\n\nfunction searchCockt(e) {\n  e.preventDefault();\n  const searchQ = e.currentTarget.finder.value.trim();\n  if (!searchQ) return;\n  console.log(actArr);\n  const result = actArr.filter(el =>\n    el.strDrink.toLowerCase().includes(searchQ.toLowerCase())\n  );\n\n  if (!result.length) return (refCocktList.innerHTML = notFound);\n  renderMarkupList(result);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7kCeP\")).toString();"],"names":["parcelRequire","register","JSON","parse","$87vAp","$84db521a7f184057$exports","URL","resolve","import","meta","url","toString","$d090c5f393355eca$var$refCocktList","document","querySelector","$d090c5f393355eca$var$actArr","localStorage","getItem","FAV_COCKTAIL","$d090c5f393355eca$var$renderMarkupList","data","mark","map","strDrink","strDrinkThumb","idDrink","$parcel$interopDefault","join","innerHTML","addEventListener","e","preventDefault","searchQ","currentTarget","finder","value","trim","console","log","result","filter","el","toLowerCase","includes","length","$gDQKf","notFound","async","target","tagName","dataset","favid","id","actArr1","i","splice","setItem","stringify","$d090c5f393355eca$var$deleteFavFromLS","parentNode","remove","type","$bNzKi","searchCoctById"],"version":3,"file":"f_coctail.b0880039.js.map"}